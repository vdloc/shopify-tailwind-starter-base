{% schema %}
{
  "name": "Hero Section Slider",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "WILLKOMMEN BEI SHARPED MESSER"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Subheading",
      "default": "Ihr Zuhause für ultra scharfes Messer aus Carbon Stahl"
    }
  ],
  "blocks": [
    {
      "type": "hero-section-item",
      "name": "Slide",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Slide Image"
        },
        {
          "type": "text",
          "id": "alt_text",
          "label": "Alternative Text",
          "default": "Slide Image"
        },
        {
          "type": "text",
          "id": "product_price",
          "label": "Product Price",
          "default": "80,- €"
        },
        {
          "type": "textarea",
          "id": "text",
          "label": "Slide Text",
          "default": "Slide Text"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link"
        },
        {
          "type": "text",
          "id": "button_text",
          "label": "Button Text",
          "default": "Zum Messer"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Hero Section Slider",
      "category": "Custom"
    }
  ]
}
{% endschema %}

<section class='hero-section'>
  <div class='embla tw-relative'>
    <div class='embla__container'>
      {%- for block in section.blocks -%}
        {% if block.settings.image %}
          {% assign image_src_large = block.settings.image | image_url: '1440x576' %}
          {% assign image_src_medium = block.settings.image | image_url: '1024x410' %}
          {% assign image_src_small = block.settings.image | image_url: '768x307' %}
        {% else %}
          {% assign image_src_large = 'Jonathan.jpg' | asset_url %}
          {% assign image_src_medium = 'Jonathan.jpg' | asset_url %}
          {% assign image_src_small = 'Jonathan_mobile.jpg' | asset_url %}
        {% endif %}
        <div
          class='embla__slide'
          id='Slide-{{ section.id }}-{{ forloop.index }}'
          role='group'
          aria-label='{{ forloop.index }} {{ 'general.slider.of' | t }} {{ forloop.length }}'
          tabindex='-1'
        >
          <div
            class='tw-relative'
            role='region'
            aria-label='{{ block.settings.text | t }}'
          >
            <picture class='tw-block'>
              <source srcset='{{ image_src_small }}' media='(max-width: 768px)'>
              <source srcset='{{ image_src_medium }}' media='(max-width: 1024px)'>
              <img src='{{ image_src_large }}' alt='{{ block.settings.alt_text }}' width='1440' height='576'>
            </picture>
            <div class='tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-py-[2rem] tw-grid tw-grid-rows-[1fr_min-content_min-content]'>
              {%- if block.settings.text != blank -%}
                {%- if block.settings.link != blank -%}
                  <a
                    href='{{ block.settings.link }}'
                    class='tw-no-underline tw-self-center'
                  >
                {%- endif -%}
                <p class='tw-font-league-spartan tw-font-normal tw-text-white tw-text-[18px] md:tw-text-[24px] tw-bg-[rgba(0,0,0,0.20)] tw-text-center tw-p-[1.6rem]'>
                  <span>{{ block.settings.text | escape }}</span>
                </p>
                {%- if block.settings.link != blank -%}
                  </a>
                {%- endif -%}
              {%- endif -%}
              {% if block.settings.product_price != blank %}
                <p class='tw-font-league-spartan tw-text[18px] tw-text-white tw-font-bold tw-text-center tw-self-end tw-mb-3'>
                  {{ block.settings.product_price }}
                </p>
              {% endif %}
              <a
                href='{{block.settings.url}}'
                class='shop-button tw-py-[12px] tw-ps-[18px] tw-pe-[30px] tw-bg-white tw-self-end tw-w-fit tw-justify-self-center'
              >
                <span class='tw-text-black tw-font-normal'>
                  {{ block.settings.button_text }}
                </span>
              </a>
            </div>
          </div>
        </div>
      {%- endfor -%}
    </div>
    <div class='swipe-suggest'>
      {% render 'icon-swipe' %}
    </div>
  </div>
</section>

{%- liquid
  render 'vite-tag' with 'slider.js'
-%}
